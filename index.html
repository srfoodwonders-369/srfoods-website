<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SR FOOD'S</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

<!-- Razorpay -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<style>
body { margin:0; font-family:Arial, sans-serif; background:#f9f9f9; }
.container { max-width:1200px; margin:auto; padding:20px; }
h1,h2,h3,p { margin:5px 0; }

/* Center login logo */
#login-choice, #login-form, #register-form { display:none; text-align:center; margin-top:100px; }
#login-choice button { margin:10px; padding:12px 20px; background:#fc8019; color:white; border:none; border-radius:6px; cursor:pointer; font-size:16px; }
#login-choice button:hover { background:#e67300; }

/* Forms */
input { width:90%; padding:8px; margin:5px 0; border-radius:5px; border:1px solid #ccc; font-size:16px; }

/* Header */
header { display:flex; align-items:center; justify-content:space-between; padding:15px 20px; background:white; box-shadow:0 2px 5px rgba(0,0,0,0.1); position:fixed; width:100%; z-index:1000;}
header h1 { color:#fc8019; margin:0; font-size:24px; }
header img.logo { height:50px; margin-right:10px; }
header .icons { display:flex; align-items:center; gap:15px; }

/* Slide menu */
.slide-menu { position:fixed; top:0; left:-300px; width:300px; height:100%; background:white; box-shadow:2px 0 10px rgba(0,0,0,0.2); transition:0.3s; z-index:1100; padding:20px; overflow-y:auto; }
.slide-menu.active { left:0; }
.slide-menu h2 { color:#fc8019; margin-top:0; }
.slide-menu .menu-item { margin:15px 0; cursor:pointer; color:#333; font-weight:bold; }
.slide-menu .menu-item:hover { color:#fc8019; }
.slide-menu .profile { text-align:center; margin-bottom:20px; }
.slide-menu .profile img { width:80px; height:80px; border-radius:50%; margin-bottom:10px; }

/* Product Grid */
#products { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:15px; margin-top:20px; }
.product-card { background:white; border-radius:10px; padding:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); display:flex; flex-direction:column; align-items:center; }
.product-card img { width:100%; height:150px; object-fit:cover; border-radius:8px; }
.product-card .details { text-align:center; margin:10px 0; }
.product-card .actions { display:flex; gap:5px; width:100%; justify-content:space-between; }
.product-card .disclaimer { font-size:14px; color:#555; display:none; margin-top:5px; }

/* Cart */
#cart-container { margin-top:30px; display:none; }
.cart-item { display:flex; justify-content:space-between; background:#fff; padding:10px; margin-bottom:10px; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
.cart-item input { width:50px; padding:3px; }
.cart-item button { background:red; padding:5px 10px; border-radius:5px; color:white; border:none; cursor:pointer; }
#cart-bill { font-weight:bold; margin-top:10px; }

/* About Us */
.about-us { padding:50px 20px; text-align:center; background:#f9f9f9; display:none; }
.about-us img.logo { height:100px; margin-bottom:10px; }
.about-us h1 { color:#fc8019; margin:5px 0; }
.about-us h3 { color:#333; margin:5px 0; }
.about-us p { max-width:700px; margin:auto; line-height:1.7; color:#333; }
.about-us .contact a { margin:0 5px; text-decoration:none; color:white; font-weight:bold; padding:10px 15px; border-radius:8px; display:inline-flex; align-items:center; gap:5px; }
.instagram-btn { background:#fc8019; }
.whatsapp-btn { background:#25D366; }

/* Reviews */
.review-section { padding:30px 20px; max-width:700px; margin:auto; background:white; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); margin-top:30px; display:none; }
.review-section textarea, .review-section input[type=text] { width:100%; padding:8px; margin:5px 0; border-radius:5px; border:1px solid #ccc; }

/* Responsive */
@media(max-width:768px){ header h1 { font-size:20px; } header img.logo { height:40px; } }
</style>
</head>
<body>

<!-- Initial Login Choice -->
<div id="login-choice" class="container">
  <img src="your-logo.png" alt="Logo" style="height:80px;">
  <h1>SR FOOD'S</h1>
  <button onclick="showNewCustomer()">I am a New Customer</button>
  <button onclick="showExistingCustomer()">I am an Existing Customer</button>
</div>

<!-- Login Form -->
<div id="login-form" class="container">
  <h2>Login</h2>
  <input type="email" id="login-email" placeholder="Email"><br>
  <input type="password" id="login-password" placeholder="Password"><br>
  <button onclick="loginEmail()">Login</button><br>
  <button onclick="loginGoogle()">Login with Google</button>
  <p style="margin-top:10px; cursor:pointer; color:#fc8019;" onclick="backToChoice()">‚Üê Back</p>
</div>

<!-- Register Form -->
<div id="register-form" class="container">
  <h2>Register</h2>
  <input type="email" id="register-email" placeholder="Email"><br>
  <input type="password" id="register-password" placeholder="Password"><br>
  <button onclick="registerEmail()">Register</button><br>
  <button onclick="backToChoice()">‚Üê Back</button>
</div>

<!-- Header after login -->
<header id="main-header" style="display:none;">
  <div style="display:flex; align-items:center;">
    <img src="your-logo.png" class="logo" alt="Logo">
    <h1>SR FOOD'S</h1>
  </div>
  <div class="icons">
    <button id="menu-toggle">‚ò∞</button>
    <button id="cart-toggle">üõí</button>
  </div>
</header>

<!-- Slide Menu -->
<div class="slide-menu" id="slide-menu">
  <div class="profile">
    <img src="https://via.placeholder.com/80" id="profile-pic">
    <p id="profile-name">Guest</p>
    <p id="profile-email">guest@example.com</p>
  </div>
  <div class="menu-item" onclick="showSection('personal')">Personal Details</div>
  <div class="menu-item" onclick="showSection('address')">Address Book</div>
  <div class="menu-item" onclick="showSection('orders')">Orders</div>
  <div class="menu-item" onclick="showSection('help')">Help Desk</div>
  <div class="menu-item" onclick="logout()">Logout</div>
  <div class="instagram-follow" style="text-align:center; margin-top:20px;">
    <a href="https://www.instagram.com/sr_foods_offical" target="_blank">Follow us on Instagram</a>
  </div>
</div>

<div class="container" id="main-content" style="display:none;">
  <h2 style="margin:30px 0;">Our Menu</h2>
  <div id="products"></div>

  <!-- Cart -->
  <div id="cart-container">
    <h3>Cart & Bill</h3>
    <div id="cart-items"></div>
    <p id="cart-bill">Subtotal: ‚Çπ0 | Free Delivery | Total: ‚Çπ0</p>
    <button onclick="payNow()">Proceed to Payment</button>
  </div>
</div>

<!-- About Us -->
<section class="about-us" id="about-us">
  <img src="your-logo.png" class="logo">
  <h1>SR FOOD'S</h1>
  <h3>AUTHENTIC GODAVARI TASTE</h3>
  <p>Since 2024</p>
  <p>Welcome to SR FOOD‚ÄôS ‚Äì your destination for the finest pickles, sweets, snacks, and SR FOOD‚ÄôS Specials made with love, quality, and authentic taste.</p>
  <div style="margin-top:20px; display:flex; justify-content:center; gap:20px;">
    <a href="https://www.instagram.com/sr_foods_offical" target="_blank" class="instagram-btn">Instagram</a>
    <a href="https://wa.me/9492369911" target="_blank" class="whatsapp-btn">WhatsApp</a>
  </div>
</section>

<!-- Reviews -->
<div class="review-section" id="review-section">
  <h3>Customer Reviews</h3>
  <input type="text" id="review-name" placeholder="Your Name">
  <textarea id="review-comment" placeholder="Write your review here"></textarea>
  <button onclick="addReview()">Submit Review</button>
  <div id="reviews-display" style="margin-top:20px;"></div>
</div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCHg-gxVV-vuALSZgcGBabChPZnznTlySg",
  authDomain: "sr-food-wonders-demo.firebaseapp.com",
  projectId: "sr-food-wonders-demo",
  storageBucket: "sr-food-wonders-demo.firebasestorage.app",
  messagingSenderId: "895619294540",
  appId: "1:895619294540:web:72cee3f5756daa116b1be9"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Login/Register choice flow
function showNewCustomer(){ 
  document.getElementById('login-choice').style.display='none'; 
  document.getElementById('register-form').style.display='block';
}
function showExistingCustomer(){ 
  document.getElementById('login-choice').style.display='none'; 
  document.getElementById('login-form').style.display='block';
}
function backToChoice(){ 
  document.getElementById('login-form').style.display='none';
  document.getElementById('register-form').style.display='none';
  document.getElementById('login-choice').style.display='block';
}

// Firebase Auth functions
function registerEmail(){
  const email = document.getElementById('register-email').value;
  const password = document.getElementById('register-password').value;
  auth.createUserWithEmailAndPassword(email,password)
    .then(u=>{
      alert("Registered successfully!");
      afterLogin(u.user);
    }).catch(err=>alert(err.message));
}

function loginEmail(){
  const email = document.getElementById('login-email').value;
  const password = document.getElementById('login-password').value;
  auth.signInWithEmailAndPassword(email,password)
    .then(u=>{
      alert("Login successful!");
      afterLogin(u.user);
    }).catch(err=>alert(err.message));
}

function loginGoogle(){
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider).then(result=>{
    afterLogin(result.user);
  }).catch(err=>alert(err.message));
}

function logout(){
  auth.signOut().then(()=>location.reload());
}

// After login show main content
function afterLogin(user){
  document.getElementById('login-choice').style.display='none';
  document.getElementById('login-form').style.display='none';
  document.getElementById('register-form').style.display='none';
  document.getElementById('main-header').style.display='flex';
  document.getElementById('main-content').style.display='block';
  document.getElementById('about-us').style.display='block';
  document.getElementById('review-section').style.display='block';
  document.getElementById('profile-name').innerText = user.displayName || "New User";
  document.getElementById('profile-email').innerText = user.email;
}

// Slide menu toggle
document.getElementById('menu-toggle').addEventListener('click', ()=>{
  document.getElementById('slide-menu').classList.toggle('active');
});

// Products & Cart
const productsData = [
  {name:"Chicken Pickle Bone", price:1100, disclaimer:"Freshly made, contains spices, keep refrigerated.", img:"https://via.placeholder.com/150"},
  {name:"Chicken Gongura Pickle Bone", price:1050, disclaimer:"Spicy and tasty.", img:"https://via.placeholder.com/150"},
  {name:"Chicken Boneless Pickle", price:1200, disclaimer:"Boneless and soft.", img:"https://via.placeholder.com/150"},
  {name:"Chicken Boneless Gongura Pickle", price:1150, disclaimer:"Special Gongura flavor.", img:"https://via.placeholder.com/150"},
  {name:"Mutton Pickle Bone", price:2000, disclaimer:"Bone-in, fresh.", img:"https://via.placeholder.com/150"},
  {name:"Mutton Gongura Pickle Bone", price:1900, disclaimer:"Traditional taste.", img:"https://via.placeholder.com/150"},
  {name:"Mutton Boneless Pickle", price:2200, disclaimer:"Boneless, premium quality.", img:"https://via.placeholder.com/150"},
  {name:"Mutton Boneless Gongura Pickle", price:2100, disclaimer:"Spicy & tangy.", img:"https://via.placeholder.com/150"},
  {name:"Prawn Pickel Big", price:2000, disclaimer:"Fresh big prawns.", img:"https://via.placeholder.com/150"},
  {name:"Prawn Gongura Pickle", price:1900, disclaimer:"Tangy flavor.", img:"https://via.placeholder.com/150"},
  {name:"Methadlu Fish Pickle", price:1500, disclaimer:"Spicy fish pickle.", img:"https://via.placeholder.com/150"},
  {name:"Normal Fish Pickle", price:1500, disclaimer:"Classic taste.", img:"https://via.placeholder.com/150"},
  {name:"Korameenu Fish Pickle", price:2400, disclaimer:"Premium fish.", img:"https://via.placeholder.com/150"},
  {name:"Sandhuva Fish Pickle", price:2400, disclaimer:"Spicy & tangy.", img:"https://via.placeholder.com/150"},
  {name:"Vanjaram Fish Pickle", price:2400, disclaimer:"Special Vanjaram fish.", img:"https://via.placeholder.com/150"},
  {name:"Pandu Kappa Fish Pickle", price:2400, disclaimer:"Authentic taste.", img:"https://via.placeholder.com/150"}
];

let cart = [];
const productsDiv = document.getElementById('products');

productsData.forEach((p,i)=>{
  const card = document.createElement('div'); card.className="product-card";
  card.innerHTML = `
    <img src="${p.img}" alt="${p.name}">
    <div class="details">
      <h3>${p.name}</h3>
      <p>‚Çπ${p.price}</p>
      <button onclick="toggleDisclaimer(${i})">View Details</button>
    </div>
    <div class="actions">
      <input type="number" id="qty-${i}" value="1" min="1">
      <button onclick="addToCart(${i})">Add to Cart</button>
    </div>
    <p class="disclaimer" id="disclaimer-${i}">${p.disclaimer}</p>
  `;
  productsDiv.appendChild(card);
});

function toggleDisclaimer(index){
  const el = document.getElementById(`disclaimer-${index}`);
  el.style.display = el.style.display==='block'?'none':'block';
}

function addToCart(index){
  const qty = Number(document.getElementById(`qty-${index}`).value);
  const prod = productsData[index];
  const existing = cart.find(c=>c.name===prod.name);
  if(existing){ existing.qty += qty; } else { cart.push({name:prod.name, price:prod.price, qty:qty}); }
  updateCart();
}

function updateCart(){
  const cartContainer = document.getElementById('cart-container');
  cartContainer.style.display = cart.length?'block':'none';
  const cartItems = document.getElementById('cart-items'); cartItems.innerHTML='';
  let total=0;
  cart.forEach((item,i)=>{
    total += item.price*item.qty;
    const div = document.createElement('div'); div.className='cart-item';
    div.innerHTML=`<span>${item.name} (‚Çπ${item.price})
